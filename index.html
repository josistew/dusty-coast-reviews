<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dusty Coast Sodas | Reviews</title>
  <meta name="description" content="Rate your experience at Dusty Coast Sodas in Lubbock, TX">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#BB3739',
            'primary-light': '#D04547',
            accent: '#12ACC4',
            'neutral-dark': '#727171',
          },
          fontFamily: {
            serif: ['DM Serif Display', 'serif'],
            sans: ['DM Sans', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
    .animate-slide-up { animation: slideUp 0.6s ease-out forwards; }
    .animate-slide-up-delay { animation: slideUp 0.6s ease-out 0.1s forwards; opacity: 0; }
    .animate-fade-in-delay { animation: fadeIn 0.6s ease-out 0.2s forwards; opacity: 0; }

    .star-svg { transition: all 0.3s ease; }
    .star-item { cursor: pointer; }
    .star-item:hover .star-svg { transform: scale(1.15); }
    .star-label { transition: all 0.3s ease; }
    .star-label.active { font-weight: 800; color: #BB3739; }

    .card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    }

    .form-input { transition: all 0.3s ease; }
    .form-input:focus {
      border-color: #BB3739;
      box-shadow: 0 0 0 3px rgba(187, 55, 57, 0.1);
      outline: none;
    }

    #feedback-form-section { display: none; }
    #feedback-form-section.visible { display: flex; }
    #rating-section { transition: opacity 0.3s ease; }
    #rating-section.hidden { display: none; }
    #thank-you-section { display: none; }
    #thank-you-section.visible { display: flex; }
  </style>
</head>
<body class="font-sans bg-white min-h-screen flex flex-col">
  <main class="flex-1 flex flex-col">
    <!-- Header -->
    <header class="w-full bg-primary py-5">
      <div class="container mx-auto px-4 flex justify-between items-center">
        <div class="w-56">
          <img src="images/dusty-coast-logo-white.png" alt="Dusty Coast Sodas" class="object-contain w-full">
        </div>
        <div class="text-right text-white">
          <p class="text-sm">7924 Slide Rd.</p>
          <p class="text-sm">Lubbock, TX 79424</p>
        </div>
      </div>
    </header>

    <!-- RATING SECTION -->
    <div id="rating-section" class="container mx-auto px-4 py-12 flex-1 flex flex-col items-center">
      <div class="max-w-5xl w-full bg-white rounded-lg shadow-lg p-10 text-center border-t-4 border-primary card animate-fade-in">
        <h1 class="font-serif text-4xl text-black mb-4 animate-slide-up">How Was Your Experience?</h1>
        <p class="text-xl text-neutral-dark mb-10 animate-slide-up max-w-3xl mx-auto">
          Your feedback helps Dusty Coast Sodas improve our drinks and service. Please take a moment to rate your visit.
        </p>

        <!-- Star Rating -->
        <div class="animate-fade-in mb-16">
          <div class="flex flex-col items-center justify-center py-6">
            <div id="star-container" class="flex items-center justify-center space-x-8 mb-8">
              <div class="flex flex-col items-center gap-2 star-item" data-value="1">
                <svg class="star-svg w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 cursor-pointer" viewBox="0 0 24 24" style="fill: transparent; stroke: #BB3739; stroke-width: 1.5;">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                </svg>
                <span class="star-label text-xs font-semibold tracking-wider text-neutral-dark">POOR</span>
              </div>
              <div class="flex flex-col items-center gap-2 star-item" data-value="2">
                <svg class="star-svg w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 cursor-pointer" viewBox="0 0 24 24" style="fill: transparent; stroke: #BB3739; stroke-width: 1.5;">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                </svg>
                <span class="star-label text-xs font-semibold tracking-wider text-neutral-dark">SUBPAR</span>
              </div>
              <div class="flex flex-col items-center gap-2 star-item" data-value="3">
                <svg class="star-svg w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 cursor-pointer" viewBox="0 0 24 24" style="fill: transparent; stroke: #BB3739; stroke-width: 1.5;">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                </svg>
                <span class="star-label text-xs font-semibold tracking-wider text-neutral-dark">OK</span>
              </div>
              <div class="flex flex-col items-center gap-2 star-item" data-value="4">
                <svg class="star-svg w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 cursor-pointer" viewBox="0 0 24 24" style="fill: transparent; stroke: #BB3739; stroke-width: 1.5;">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                </svg>
                <span class="star-label text-xs font-semibold tracking-wider text-neutral-dark">GOOD</span>
              </div>
              <div class="flex flex-col items-center gap-2 star-item" data-value="5">
                <svg class="star-svg w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 cursor-pointer" viewBox="0 0 24 24" style="fill: transparent; stroke: #BB3739; stroke-width: 1.5;">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                </svg>
                <span class="star-label text-xs font-semibold tracking-wider text-neutral-dark">GREAT</span>
              </div>
            </div>
          </div>
        </div>

        <p class="text-sm text-neutral-dark mt-4">Thank you for choosing Dusty Coast Sodas.</p>
        <p class="text-sm text-neutral-dark">Your feedback helps us serve up better drinks for the Lubbock community.</p>
      </div>
    </div>

    <!-- FEEDBACK FORM SECTION (1-3 stars) -->
    <div id="feedback-form-section" class="container mx-auto px-4 py-12 flex-1 flex flex-col items-center">
      <div class="max-w-2xl w-full bg-white rounded-lg shadow-lg p-8 border-t-4 border-primary animate-fade-in">
        <div class="flex items-center gap-2 mb-6 justify-center">
          <svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          <span class="text-sm font-medium text-primary">7924 Slide Rd., Lubbock, TX 79424</span>
        </div>

        <h1 class="font-serif text-3xl text-black mb-3 text-center animate-slide-up">We Value Your Feedback</h1>
        <p class="text-lg text-neutral-dark mb-8 text-center animate-slide-up-delay">
          We're sorry your experience wasn't perfect. Please let us know how we can improve.
        </p>

        <form id="feedback-form" class="space-y-5">
          <input type="hidden" id="form-rating" name="rating" value="">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">First Name <span class="text-red-500">*</span></label>
              <input type="text" id="firstName" name="firstName" required class="form-input w-full px-4 py-3 border border-gray-300 rounded-md text-sm" placeholder="First Name">
            </div>
            <div>
              <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name <span class="text-red-500">*</span></label>
              <input type="text" id="lastName" name="lastName" required class="form-input w-full px-4 py-3 border border-gray-300 rounded-md text-sm" placeholder="Last Name">
            </div>
          </div>
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email <span class="text-red-500">*</span></label>
            <input type="email" id="email" name="email" required class="form-input w-full px-4 py-3 border border-gray-300 rounded-md text-sm" placeholder="Email">
          </div>
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone <span class="text-red-500">*</span></label>
            <input type="tel" id="phone" name="phone" required class="form-input w-full px-4 py-3 border border-gray-300 rounded-md text-sm" placeholder="Phone">
          </div>
          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message <span class="text-red-500">*</span></label>
            <textarea id="message" name="message" rows="4" required class="form-input w-full px-4 py-3 border border-gray-300 rounded-md text-sm resize-vertical" placeholder="Tell us about your experience..."></textarea>
          </div>
          <button type="submit" id="submit-btn" class="w-full bg-primary text-white font-semibold py-3 px-6 rounded-md hover:bg-primary-light transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg animate-fade-in-delay">
            Submit Feedback
          </button>
        </form>
      </div>
    </div>

    <!-- THANK YOU SECTION -->
    <div id="thank-you-section" class="container mx-auto px-4 py-12 flex-1 flex flex-col items-center">
      <div class="max-w-2xl w-full bg-white rounded-lg shadow-lg p-10 text-center border-t-4 border-primary animate-fade-in">
        <svg class="w-16 h-16 text-primary mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <h1 class="font-serif text-3xl text-black mb-3">Thank You!</h1>
        <p class="text-lg text-neutral-dark">Your feedback has been submitted. We appreciate you helping us make Dusty Coast even better.</p>
      </div>
    </div>

    <!-- Your Feedback Matters Section -->
    <div class="w-full bg-gray-50 py-12">
      <div class="container mx-auto px-4 grid md:grid-cols-2 gap-8 items-center">
        <div>
          <div class="inline-block bg-primary text-white px-4 py-2 rounded-full text-sm font-medium mb-4">Reviews made simple.</div>
          <h1 class="font-serif text-4xl md:text-5xl text-black mb-4 animate-slide-up">Your feedback matters!</h1>
          <p class="text-lg text-neutral-dark mb-6 animate-slide-up">
            Your opinion helps us improve our drinks and service. Please take a moment to rate your experience at Dusty Coast Sodas.
          </p>
        </div>
        <div class="flex flex-col items-center justify-center">
          <div class="relative w-48 h-48 md:w-64 md:h-64 mb-4 rounded-full overflow-hidden bg-primary flex items-center justify-center shadow-lg">
            <img src="images/dusty-coast-logo-white.png" alt="Dusty Coast Sodas" class="object-contain w-3/4 p-4">
          </div>
          <p class="text-lg font-serif text-primary mt-2">Dusty Coast Sodas</p>
          <p class="text-sm text-neutral-dark">Your Daily Destination</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="w-full py-8 bg-primary text-white">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="space-y-4">
            <h3 class="font-serif font-bold text-lg mb-4">HOURS</h3>
            <ul class="space-y-2">
              <li class="flex justify-between">
                <span class="text-sm">MON-SAT:</span>
                <span>9am - 7pm</span>
              </li>
              <li class="flex justify-between">
                <span class="text-sm">SUNDAY:</span>
                <span>Closed</span>
              </li>
            </ul>
          </div>
          <div>
            <h3 class="font-serif font-bold text-lg mb-4">DIRECTIONS</h3>
            <div class="h-48 bg-white/10 rounded-md overflow-hidden">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3323!2d-101.9228393!3d33.5216277!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2s7924%20Slide%20Rd%2C%20Lubbock%2C%20TX%2079424!5e0!3m2!1sen!2sus"
                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
              </iframe>
            </div>
          </div>
          <div>
            <h3 class="font-serif font-bold text-lg mb-4">DUSTY COAST SODAS</h3>
            <ul class="space-y-2">
              <li>7924 Slide Rd.</li>
              <li>Lubbock, TX 79424</li>
              <li class="mt-4">
                <a href="tel:8065870404" class="text-gray-300 hover:text-white hover:underline">(806) 587-0404</a>
              </li>
              <li class="flex gap-4 mt-4">
                <a href="https://facebook.com/profile.php?id=61557637889832" target="_blank" class="text-gray-300 hover:text-white" aria-label="Facebook">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                </a>
                <a href="https://instagram.com/dustycoastsoda/" target="_blank" class="text-gray-300 hover:text-white" aria-label="Instagram">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="text-center mt-8 pt-4 border-t border-white/20">
          <p class="text-sm text-white/60">&copy; 2025 Dusty Coast Sodas. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </main>

  <script>
    // ========== CONFIGURATION ==========
    // TODO: Replace with actual Google review URL once you have the Place ID
    const GOOGLE_REVIEW_URL = 'PASTE_GOOGLE_REVIEW_URL_HERE';
    // Form backend webhook URL (optional)
    const WEBHOOK_URL = 'PASTE_YOUR_WEBHOOK_URL_HERE';
    // ===================================

    const stars = document.querySelectorAll('.star-item');
    const ratingSection = document.getElementById('rating-section');
    const feedbackFormSection = document.getElementById('feedback-form-section');
    const thankYouSection = document.getElementById('thank-you-section');
    const feedbackForm = document.getElementById('feedback-form');
    const formRatingInput = document.getElementById('form-rating');
    let selectedRating = 0;

    function fillStars(upTo) {
      stars.forEach(star => {
        const val = parseInt(star.dataset.value);
        const svg = star.querySelector('.star-svg');
        const label = star.querySelector('.star-label');
        if (val <= upTo) {
          svg.style.fill = '#BB3739';
          svg.style.stroke = '#BB3739';
          label.classList.add('active');
        } else {
          svg.style.fill = 'transparent';
          svg.style.stroke = '#BB3739';
          label.classList.remove('active');
        }
      });
    }

    stars.forEach(star => {
      star.addEventListener('mouseenter', () => {
        fillStars(parseInt(star.dataset.value));
      });
      star.addEventListener('click', () => {
        selectedRating = parseInt(star.dataset.value);
        fillStars(selectedRating);
        setTimeout(() => {
          if (selectedRating >= 4) {
            if (GOOGLE_REVIEW_URL && GOOGLE_REVIEW_URL !== 'PASTE_GOOGLE_REVIEW_URL_HERE') {
              window.location.href = GOOGLE_REVIEW_URL;
            } else {
              // Fallback: show a message if no Google URL is set
              ratingSection.innerHTML = '<div class="max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-10 text-center border-t-4 border-primary"><h1 class="font-serif text-3xl text-black mb-3">Thank You!</h1><p class="text-lg text-gray-600">We appreciate your positive feedback! We\'d love for you to leave us a Google review.</p></div>';
            }
          } else {
            formRatingInput.value = selectedRating;
            ratingSection.classList.add('hidden');
            feedbackFormSection.classList.add('visible');
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }
        }, 600);
      });
    });

    document.getElementById('star-container').addEventListener('mouseleave', () => {
      fillStars(selectedRating);
    });

    feedbackForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const submitBtn = document.getElementById('submit-btn');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';

      const formData = {
        rating: formRatingInput.value,
        firstName: document.getElementById('firstName').value,
        lastName: document.getElementById('lastName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        message: document.getElementById('message').value,
        source: 'Dusty Coast Sodas Review Page',
        timestamp: new Date().toISOString(),
      };

      try {
        if (WEBHOOK_URL && WEBHOOK_URL !== 'PASTE_YOUR_WEBHOOK_URL_HERE') {
          await fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData),
            mode: 'no-cors',
          });
        }
      } catch (err) {
        console.error('Webhook error:', err);
      }

      feedbackFormSection.classList.remove('visible');
      thankYouSection.classList.add('visible');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
